<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jul 16, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>
  Implementing Plugins</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />
        <style>body{padding-top: 20px;}</style>
    
      
    <script type="text/javascript" src="../js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20120716" />
    <meta http-equiv="Content-Language" content="en" />
    <link rel="stylesheet" type="text/css" href="../mbgstyle.css" />
        </head>
  <body>
      
        
    
        <div class="container-fluid">
                <div id="banner">
        <div class="pull-left">                                <a href="../index.html" id="bannerLeft" title="MyBatis logo">
                                                                                                <img src="../images/logo.png"  alt="MyBatis logo"/>
                </a>
      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>
      
      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 16 July 2012</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.3.2</li>
                      
                
                    
      
                  </ul>
      </div>

            <div id="leftColumn" class="sidebar">
        <div class="well">
                
                    
                                   <h5>User's Guide</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="../whatsNew.html" title="What's New?">What's New?</a>
            </li>
                  <li class="none">
                          <a href="../quickstart.html" title="Quick Start Guide">Quick Start Guide</a>
            </li>
                                                                                                                          <li class="collapsed">
                          <a href="../running/running.html" title="Running MyBatis Generator">Running MyBatis Generator</a>
                  </li>
                  <li class="none">
                          <a href="../afterRunning.html" title="Tasks After Running MyBatis Generator">Tasks After Running MyBatis Generator</a>
            </li>
                  <li class="none">
                          <a href="../migratingFromIbator.html" title="Migrating from Ibator">Migrating from Ibator</a>
            </li>
                  <li class="none">
                          <a href="../migratingFromAbator.html" title="Migrating from Abator">Migrating from Abator</a>
            </li>
                                                                                                                                                                                                                                                                                                                                                                    <li class="collapsed">
                          <a href="../configreference/xmlconfig.html" title="XML Configuration Reference">XML Configuration Reference</a>
                  </li>
                                                                                                                                            <li class="collapsed">
                          <a href="../generatedobjects/results.html" title="Using the Generated Objects">Using the Generated Objects</a>
                  </li>
                                                                                                                          <li class="collapsed">
                          <a href="../usage/intro.html" title="Database Specific Information">Database Specific Information</a>
                  </li>
                                                                                                                                                                        <li class="expanded">
                          <a href="../reference/intro.html" title="Other Reference Information">Other Reference Information</a>
                    <ul>
                      <li class="none">
                          <a href="../reference/building.html" title="Building from Source">Building from Source</a>
            </li>
                      <li class="none">
                          <a href="../reference/extending.html" title="Extending MyBatis Generator">Extending MyBatis Generator</a>
            </li>
                      <li class="none">
            <strong>Implementing Plugins</strong>
          </li>
                      <li class="none">
                          <a href="../reference/logging.html" title="Logging Information">Logging Information</a>
            </li>
                      <li class="none">
                          <a href="../reference/plugins.html" title="Supplied Plugins">Supplied Plugins</a>
            </li>
                      <li class="none">
                          <a href="../philosophy.html" title="Design Philosophy">Design Philosophy</a>
            </li>
              </ul>
        </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                                              <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
          </ul>
                      
                    
                
            
          <div id="poweredBy">
                            <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                </div>
        </div>
      </div>
      
      <div id="bodyColumn" class="content">
        <div id="contentBox">
                              
          


<h1>Implementing Plugins</h1>
<p>Plugins can be used to modify or add to the objects that are generated by MyBatis Generator.
Plugins must implement the interface
<tt>org.mybatis.generator.api.Plugin</tt>.  The plugin interface contains many
methods that are called in different phases of the code generation process.  Implementing the
entire interface is generally not needed for any particular plugin.  Therefore, most plugins should extend
the adapter class <tt>org.mybatis.generator.api.PluginAdapter</tt>.  The adapter
class provides basic plugin support, and implements no-operation methods for most of the
interface methods (similar to Swing adapter classes).</p>

<p>MyBatis Generator supplies several plugins (all are in the package
<tt>org.mybatis.generator.plugins</tt>).  The supplied plugins demonstrate
different types of tasks that can be accomplished with plugins.  Source
code for the plugins is available with the downloads, or can be viewed
online
<a class="externalLink" href="http://mybatis.googlecode.com/svn/sub-projects/generator/trunk/core/mybatis-generator-core/src/main/java/org/mybatis/generator/plugins/" target="_blank">
here</a>.</p>

<div class="section"><h2>Plugin Lifecycle<a name="Plugin_Lifecycle"></a></h2>
<p>Plugins have a lifecycle.  Plugins are created during the initialization of the code
generation process and are called, in order, in different phases of the process.  The following
list shows the basic lifecycle of a plugin:</p>
<ol style="list-style-type: decimal">
  <li>Plugin created through the default constructor</li>
  <li><tt>setContext</tt> method called</li>
  <li><tt>setProperties</tt> method called</li>
  <li><tt>validate</tt> method called.  If this method returns <tt>false</tt>,
      then no further methods in the plugin will be called</li>
  <li>For each table in the configuration:
    <ol style="list-style-type: decimal">
      <li><tt>initialized</tt> method called</li>
      <li>Java Client Methods:<sup>1,2</sup>
        <ol style="list-style-type: decimal">
          <li><tt>clientXXXMethodGenerated(Method, TopLevelClass, IntrospectedTable)</tt> - these methods
              are called as each method of a Java client implementation class is generated.</li>
          <li><tt>clientXXXMethodGenerated(Method, Interface, IntrospectedTable)</tt> - these methods
              are called as each method of the Java client interface is generated.</li>
          <li><tt>clientGenerated(Interface, TopLevelClass, IntrospectedTable)</tt> method called</li>
        </ol>
      </li>
      <li>Model Methods:<sup>1</sup>
        <ol style="list-style-type: decimal">
          <li><tt>modelFieldGenerated</tt>, <tt>modelGetterMethodGenerated</tt>,
              <tt>modelSetterMethodGenerated</tt> for each field in the class</li>
          <li><tt>modelExampleClassGenerated(TopLevelClass, IntrospectedTable)</tt></li>
          <li><tt>modelPrimaryKeyClassGenerated(TopLevelClass, IntrospectedTable)</tt></li>
          <li><tt>modelBaseRecordClassGenerated(TopLevelClass, IntrospectedTable)</tt></li>
          <li><tt>modelRecordWithBLOBsClassGenerated(TopLevelClass, IntrospectedTable)</tt></li>
        </ol>
      </li>
      <li>SQL Map Methods:<sup>1</sup>
        <ol style="list-style-type: decimal">
          <li><tt>sqlMapXXXElementGenerated(XmlElement, IntrospectedTable)</tt> - these methods
              are called as each element of the SQL map is generated</li>
          <li><tt>sqlMapDocumentGenerated(Document, IntrospectedTable)</tt></li>
          <li><tt>sqlMapDocument(GeneratedXmlFile, IntrospectedTable)</tt></li>
        </ol>
      </li>
      <li><tt>contextGenerateAdditionalJavaFiles(IntrospectedTable)</tt> method called</li>
      <li><tt>contextGenerateAdditionalXmlFiles(IntrospectedTable)</tt> method called</li>
    </ol>
  </li>
  <li><tt>contextGenerateAdditionalJavaFiles()</tt> method called</li>
  <li><tt>contextGenerateAdditionalXmlFiles()</tt> method called</li>
</ol>

<p><b>Notes:</b><br />
<sup>1</sup> - These methods will be called by the packaged code generators.  If you supply
 a custom code generator, then these methods will only be called if the custom code generator
 calls them.<br />
<sup>2</sup> - The Java client methods will only be called is a Java client generator is configured.
</p>

</div><div class="section"><h2>Coding Plugins<a name="Coding_Plugins"></a></h2>
<p>The best way to implement a plugin is to extend the
<tt>org.mybatis.generator.api.PluginAdapter</tt> class and override
only the specific methods you need in your plugin.</p>
<p>Methods in the plugin interface can be used to modify code generated by default, or
to add additional generated code.  Examples of things that can be accomplished with
plugins are:</p>
<ul>
  <li>Add custom annotations to generated methods</li>
  <li>Add additional methods to a generated class</li>
  <li>Add additional elements to a generated XML file</li>
  <li>Generate additional Java files</li>
  <li>Generate additional XML files</li>
</ul>

<p>The <tt>contextXXX</tt> methods will always be called.  Other methods are called
by the packaged code generators - and only if the rules for a table would
cause the generation of a particular element.  For example, the
<tt>modelPrimaryKeyClassGenerated(TopLevelClass, IntrospectedTable)</tt>
method will not be called if the table does not have a primary key.</p>

<p>Methods that return a <tt>boolean</tt> can be used to bypass code generation.
If any of these methods return <tt>false</tt>, then the related item will
not be added to the generated code.  If there is more than one plugin configured,
then the first plugin to return false from a method will cause MyBatis Generator to stop calling
that method in all other plugins.</p>

<p>If you have an idea for a plugin, feel free to ask a question about it on
the user list.  We're here to help!</p>
</div>

                  </div>
      </div>
    </div>

    <footer class="footer">
            <div class="container-fluid">
              <div class="row span16">Copyright &copy;                    2010-2012
                        <a href="http://www.mybatis.org/">MyBatis.org</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
